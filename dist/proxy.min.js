'use strict';(function(k,f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f():"function"===typeof define&&define.amd?define(f):k.ProxyPolyfill=f()})(this,function(){function k(a){return a?"object"===typeof a||"function"===typeof a:!1}var f=null;var h=function(a,b){if(!k(a)||!k(b))throw new TypeError("Cannot create proxy with a non-object as target or handler");var g=function(){};f=function(){g=function(a){throw new TypeError("Cannot perform '"+a+"' on a proxy that has been revoked");
}};var e=b;b={get:null,set:null,apply:null,construct:null};for(var m in e){if(!(m in b))throw new TypeError("Proxy polyfill does not support trap '"+m+"'");b[m]=e[m]}"function"===typeof e&&(b.apply=e.apply.bind(e));var c=this,h=!1,p=!1;"function"===typeof a?(c=function(){var l=this&&this.constructor===c,d=Array.prototype.slice.call(arguments);g(l?"construct":"apply");return l&&b.construct?b.construct.call(this,a,d):!l&&b.apply?b.apply(a,this,d):l?(d.unshift(a),new (a.bind.apply(a,d))):a.apply(this,
d)},h=!0):a instanceof Array&&(c=[],p=!0);var q=b.get?function(a){g("get");return b.get(this,a,c)}:function(a){g("get");return this[a]},t=b.set?function(a,d){g("set");b.set(this,a,d,c)}:function(a,b){g("set");this[a]=b},r={};Object.getOwnPropertyNames(a).forEach(function(b){if(!((h||p)&&b in c)){var d={enumerable:!!Object.getOwnPropertyDescriptor(a,b).enumerable,get:q.bind(a,b),set:t.bind(a,b)};Object.defineProperty(c,b,d);r[b]=!0}});e=!0;Object.setPrototypeOf?Object.setPrototypeOf(c,Object.getPrototypeOf(a)):
c.__proto__?c.__proto__=a.__proto__:e=!1;if(b.get||!e)for(var n in a)r[n]||Object.defineProperty(c,n,{get:q.bind(a,n)});Object.seal(a);Object.seal(c);return c};h.revocable=function(a,b){return{proxy:new h(a,b),revoke:f}};return Proxy||h});
